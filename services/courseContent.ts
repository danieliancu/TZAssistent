
// This file serves as the knowledge base for detailed course content.
// Keys should match the standardized acronyms used in the app (e.g., 'SMSTS', 'SSSTS', 'NEBOSH').

export const courseKnowledgeBase: Record<string, string> = {
  "SMSTS": `
  **Course Name:** Site Management Safety Training Scheme (SMSTS)
  **Duration:** 5 Days
  **Target Audience:** Site managers, project leaders, and anyone responsible for health and safety on construction sites.
  **Certification:** Official CITB certification (valid for 5 years).
  
  **Overview:**
  Designed for site managers and project leaders, this course provides the skills to implement relevant health and safety legislation, offer guidance, and work to best practice. It covers responsibility regarding health, safety, welfare, and the environment.
  
  **Key Course Topics:**
  - The Health and Safety at Work Act 1974
  - Management of Health & Safety at Work Regulations 1999
  - RIDDOR 2013
  - CDM Regulations 2015
  - Working at Height & Scaffolding
  - Fire Safety & Electricity
  - Excavations & Confined Spaces
  
  **Certification & Renewal:**
  - Valid for 5 years.
  - Must complete SMSTS Refresher BEFORE expiry.
  - Official CITB Certificate issued 2-3 weeks after course.
  
  **Delivery & Assessment:**
  - Attendance: Full 5 days required.
  - Exam: 35-minute exam (25 questions: 18 multiple choice, 7 short answer).
  - Open Book: Last 15 minutes allowed with GE700/XA6.
  - Pass Mark: 81%.
  `,

  "SMSTS REFRESHER": `
  **Course Name:** Site Management Safety Training Scheme Refresher (SMSTS-R)
  **Duration:** 2 Days
  **Target Audience:** Existing SMSTS holders (managers, directors, surveyors) looking to renew their qualification.
  **Prerequisites:** Must hold a valid SMSTS certificate that has not expired.
  
  **Overview:**
  Strengthens understanding of current legislation, industry guidance, and best practice. Refreshes knowledge required to manage site activities safely and maintain compliance.
  
  **Key Topics:**
  - Current HSE focus & legislation changes
  - Risk assessment and method statements
  - RIDDOR
  - Behavioural safety & Occupational health
  
  **Certification:**
  - Valid for 5 years.
  - Must be taken before the current certificate expires.
  
  **Delivery & Assessment:**
  - Attendance: Full 2 days required.
  - Exam: 35-minute exam (25 questions: 18 multiple choice, 7 short answer).
  - Open Book: Last 15 minutes allowed with GE700/XA6.
  - Pass Mark: 81%.
  `,

  "SSSTS": `
  **Course Name:** Site Safety Supervisor Training Scheme (SSSTS)
  **Duration:** 2 Days
  **Target Audience:** Site supervisors, team leaders, and individuals taking on supervisory responsibilities. No previous qualifications required.
  **Certification:** Official CITB certification (valid for 5 years).

  **Overview:**
  This course meets industry standards for Site Supervision Safety Training. It strengthens the ability to supervise effectively, maintain safe working conditions, and understand responsibilities regarding health, safety, welfare, and environmental standards.

  **Key Course Topics:**
  - Health and Safety at Work Act 1974
  - CDM Regulations 2015
  - Working at Height, Fire Safety, COSHH
  - Manual Handling & Occupational Health Risks
  - Supervisory Roles and Responsibilities
  - Effective Site Communications & Behavioural Safety

  **Certification & Renewal:**
  - Valid for 5 years.
  - Must complete SSSTS Refresher BEFORE expiry.
  - Official CITB Certificate issued 2-3 weeks after course.

  **Delivery & Assessment:**
  - Attendance: Full 2 days required.
  - Assessment: Exercises throughout the course.
  - The Exam: 30-minute exam on the last day.
  - Exam Format: 22 multiple choice and 4 safety critical questions.
  - **Important:** All 4 safety critical questions must be answered correctly to pass.
  - Open Book: GE706 book allowed for the last 10 minutes.
  - Pass Mark: 80%.
  `,

  "SSSTS REFRESHER": `
  **Course Name:** Site Safety Supervisor Training Scheme Refresher (SSSTS-R)
  **Duration:** 1 Day
  **Target Audience:** Existing SSSTS certificate holders.
  **Prerequisites:** Must hold a valid SSSTS certificate that has not expired.

  **Overview:**
  Reinforces existing skills regarding health and safety legislation, current guidance, and best practice. Refreshes understanding of H&S, welfare, and the environment.

  **Key Topics:**
  - Health and safety law structure
  - Supervisory vs Manager roles
  - Method statements
  - Construction Site Health, Safety and Welfare
  - Communication & Behavioural safety
  - Supervision of occupational health

  **Certification:**
  - Valid for 5 years.
  - Must be completed BEFORE the existing certificate expires.
  - Official CITB Certificate issued 2-3 weeks after course.

  **Delivery & Assessment:**
  - Attendance: Full day required.
  - Assessment: Exercises throughout the course.
  - The Exam: 30-minute exam (22 multiple choice + 4 safety critical questions).
  - Open Book: GE706 book allowed for the last 10 minutes.
  - Pass Mark: 80%.
  `,

  "HSA": `
  **Course Name:** CITB Health and Safety Awareness (HSA)
  **Duration:** 1 Day
  **Target Audience:** Construction workers or those looking to start a career in construction with little to no experience.

  **Overview:**
  Provides the basic elements of health and safety, the role of the employer, and how to work safely on site. Ideally suited for those looking to obtain the **CSCS Green Labourer Card**.

  **Key Topics:**
  - Individual responsibilities for safety
  - Typical construction hazards and controls
  - Legal requirements and liabilities
  - Working at height & Manual handling
  - Fire prevention & Work equipment
  - Occupational health

  **Certification:**
  - Valid for 2 years (Delegate may then progress to SSSTS or SMSTS).
  - Official CITB Certificate issued 2-3 weeks after course.

  **Delivery & Assessment:**
  - Attendance: Full day required (with exam on the same day).
  - Assessment: Exercises throughout the course.
  - Exam: 30-minute exam consisting of 25 multiple choice questions.
  - Pass Mark: 83%.
  - Requirements: Sufficient English level (Initial Assessment) and for online courses, a laptop/computer with camera/mic (no phones/tablets).
  `,

  "TWC": `
  **Course Name:** Temporary Works Coordinator (TWC)
  **Duration:** 2 Days
  **Target Audience:** Managers, supervisors, agents and engineers who have responsibility for temporary works.
  
  **Overview:**
  The course provides a comprehensive understanding of the role of the Temporary Works Coordinator and the management of temporary works on construction sites. It covers the requirements of BS 5975:2019.

  **Key Topics:**
  - The importance of the '4 Cs' (Communication, Co-ordination, Co-operation, Competency)
  - Statutory aspects of temporary works
  - Risk assessments and method statements
  - Management of the temporary works process
  
  **Certification:**
  - Valid for 5 years.
  - Official CITB Certificate.
  
  **Delivery & Assessment:**
  - Attendance: Full 2 days required.
  - Exam: 25 questions (Multiple choice and free text).
  - Pass Mark: 78%.
  `,

  "TWC REFRESHER": `
  **Course Name:** Temporary Works Coordinator Refresher (TWC-R)
  **Duration:** 1 Day
  **Target Audience:** Existing TWC certificate holders with responsibility for managing temporary works.
  **Prerequisites:** Must hold a valid TWC certificate that has not expired.

  **Overview:**
  Focuses on the processes involved in temporary works (BS 5975:2019), risk management, and current legislation. It is NOT a technical awareness course but covers essential coordination duties.

  **Key Topics:**
  - Temporary works procedures (BS 5875:2019)
  - Risk management (BS 5975:2019)
  - Role and responsibilities of the TWC
  - Risk assessments and method statements
  - Current legislation relating to temporary works

  **Certification:**
  - Valid for 5 years.
  - Must be taken before the expiry of the original certificate.
  - Official CITB Certificate issued 2-3 weeks after course.

  **Delivery & Assessment:**
  - Attendance: Full day required.
  - Assessment: Exercises throughout the course.
  - The Exam: 45-minute, open book exam.
  - Exam Format: 22 questions (18 multiple choice worth 1 mark, 4 free text questions worth 1-3 marks).
  - Pass Mark: 78%.
  `,

  "TWS": `
  **Course Name:** Temporary Works Supervisor (TWS)
  **Duration:** 1 Day
  **Target Audience:** Those responsible for supervising temporary works on site.
  
  **Overview:**
  Focuses on the processes involved in temporary works, particularly the role of the TWS. Covers BS5975, risk management, and the '4Cs' (Communication, Co-operation, Co-ordination, Competency).
  
  **Certification:**
  - Valid for 5 years.
  - Official CITB Certificate.
  
  **Delivery & Assessment:**
  - Attendance: Full day required.
  - Assessment: Exercises throughout the course.
  - The Exam: 45-minute, open book exam.
  - Exam Format: 22 questions (19 multiple choice worth 1 mark, 3 free text questions worth 2-3 marks).
  - Pass Mark: 76%.
  `,

  "EUSR": `
  **Course Name:** EUSR National Water Hygiene (Blue Card)
  **Duration:** 1 Day
  **Target Audience:** Individuals entering clean water sites or working on the clean water network.
  
  **Overview:**
  Provides understanding of maintaining clean and safe drinking water and protecting public health. Covers "Restricted Operations".
  
  **Modules:**
  1. The importance of water
  2. Water as a carrier of disease
  3. Potential contamination and its consequences
  4. Preventing contamination
  
  **Certification:**
  - National Water Hygiene EUSR photo ID card (Blue Card).
  - Valid for 3 years.
  
  **Delivery & Assessment:**
  - Health screening questionnaire required.
  - Assessment: Practical and theory-based exercises.
  `,

  "IOSH MANAGING SAFELY": `
  **Course Name:** IOSH Managing Safely
  **Duration:** 3 Days
  **Target Audience:** Anyone with health and safety within their remit across all sectors.
  
  **Overview:**
  Embeds a strong safety and health culture. Covers risk assessment, legislation, and identifying common hazards (Fire, Electricity, Noise, Chemicals, etc.).
  
  **Key Topics:**
  - Risk assessment and control
  - Health & Safety legislation
  - Investigating accidents
  - Safety management systems
  
  **Certification:**
  - Internationally recognised certificate (valid for life).
  
  **Delivery & Assessment:**
  - Attendance: Full 3 days required.
  - Exam: Multiple choice exam (split into two assessments) + Risk Assessment Form.
  - Pass Mark: 36 out of 60.
  `,

  "IOSH WORKING SAFELY": `
  **Course Name:** IOSH Working Safely
  **Duration:** 1 Day
  **Target Audience:** Anyone needing grounding in health and safety.
  
  **Overview:**
  Focuses on carrying out work activities without risk, understanding consequences, identifying hazards, and reporting incidents.
  
  **Key Topics:**
  - Identifying hazards, risks and risk controls
  - Workplace precautions
  - Lines of communication
  - Safety signs and signals
  
  **Certification:**
  - Internationally recognised certificate (valid for life).
  
  **Delivery & Assessment:**
  - Attendance: Full day required.
  - Exam: Multiple choice exam (Assessments A and B).
  - Pass Mark: 25 out of 46.
  `,

  "MHFA": `
  **Course Name:** Mental Health First Aider (MHFA England)
  **Duration:** 2 Days
  **Target Audience:** Individuals wanting to support mental health in the workplace.
  
  **Overview:**
  Teaches how to recognise warning signs of mental health issues (depression, anxiety, suicide, psychosis) and provide support/signposting.
  
  **Syllabus (4 Sessions):**
  1. Mental Health First Aid Action Plan, Depression.
  2. Suicide, Alcohol/Drugs, First aid for depression.
  3. Anxiety disorders, CBT, Eating disorders, Self-harm.
  4. Psychosis, Schizophrenia, Bipolar, Recovery.
  
  **Delivery & Assessment:**
  - Accredited by MHFA England.
  - Includes self-learning exercises and interactive activities.
  - Assessment: Short pre-learning assessment + 4 short online assessments via Enabley portal.
  `,

  "NEBOSH GENERAL": `
  **Course Name:** NEBOSH National General Certificate in Occupational Health and Safety
  **Duration:** 10 Days (Split Schedule)
  **Target Audience:** Managers, supervisors, and staff looking for a globally recognised health & safety qualification.
  
  **Typical Schedule:**
  - **Week 1:** Monday - Friday (08:30 - 16:30)
  - **Week 2:** OFF (Study/Revision Week)
  - **Week 3:** Monday - Friday (08:30 - 16:30)
  - **Exam:** Taken on the first Wednesday of the month.

  **Overview:**
  Equips professionals with knowledge to manage workplace risks and ensure legal compliance. Required for over 80% of H&S roles.
  
  **Key Topics:**
  - NG1: Health and Safety Management (Systems, Risk, Monitoring).
  - NG2: Risk Assessment (Physical/Psychological health, Chemical/Biological agents, Equipment, Fire, Electricity).
  
  **Assessment (Digital):**
  - **NG1:** Open Book Exam (24 hours to complete). Pass mark: 45 marks.
  - **NG2:** Practical Risk Assessment scenario.
  `,

  "NEBOSH CONSTRUCTION": `
  **Course Name:** NEBOSH Health and Safety Management for Construction (NCC)
  **Duration:** 10 Days (Split Schedule)
  **Target Audience:** Site managers, supervisors, principal contractors, and H&S advisors in construction.
  
  **Typical Schedule:**
  - **Week 1:** Monday - Friday (08:30 - 16:30)
  - **Week 2:** OFF (Study/Revision Week)
  - **Week 3:** Monday - Friday (08:30 - 16:30)
  - **Exam:** Taken on the first Wednesday of the month (Runs quarterly).

  **Overview:**
  Fully aligned with CDM Regulations. Covers managing construction risks like excavations, demolition, working at height, and fire safety.
  
  **Key Topics:**
  - CDM Regulations 2015
  - Risk Assessment & Method Statements (RAMS)
  - Excavations, Demolition, Working at Height
  - Fire & Electrical Safety
  
  **Assessment (Digital):**
  - **CN1:** Open Book Exam (48 hours to complete).
  - Scenario-based risk assessment exercise followed by a closing interview.
  `,

  "SEATS": `
  **Course Name:** Site Environmental Awareness Training Scheme (SEATS)
  **Duration:** 1 Day
  **Target Audience:** Management and supervisors working in construction.
  
  **Overview:**
  Delivers fundamental environmental knowledge to minimise impact and identify improvement opportunities.
  
  **Key Topics:**
  - Environmental Management Systems
  - Waste management
  - Pollution & Water management
  - Energy & Resources
  - Being a responsible contractor (statutory nuisance, archaeology).
  
  **Certification:**
  - Valid for 5 years.
  - Official CITB Certificate.
  
  **Delivery & Assessment:**
  - Attendance: Full day required.
  - Exam: 30-minute exam (25 multiple choice questions).
  - Pass Mark: 80%.
  `,
  
  // Fallback generic entry to handle ambiguous "NEBOSH" queries if necessary
  "NEBOSH": `
  **NEBOSH Courses:**
  Target Zero offers two main NEBOSH qualifications:
  1. **NEBOSH National General Certificate:** For general health & safety management across all industries.
  2. **NEBOSH Health and Safety Management for Construction (NCC):** Specifically designed for construction site management and CDM regulations.
  
  Both are 10-day courses, typically split over 3 weeks (Week 1 on, Week 2 off, Week 3 on), with Open Book Exams.
  `
};

export const getCourseDetails = (courseType: string): string => {
  // Normalize key to uppercase to match dictionary
  const key = courseType.toUpperCase().trim();
  
  // 1. Direct match
  if (courseKnowledgeBase[key]) {
    return courseKnowledgeBase[key];
  }

  const keys = Object.keys(courseKnowledgeBase).sort((a, b) => b.length - a.length);

  // 2. Check if the input *contains* a known key (e.g. "NEBOSH GENERAL CERTIFICATE" contains "NEBOSH GENERAL")
  const keyContained = keys.find(k => key.includes(k));
  if (keyContained) {
    return courseKnowledgeBase[keyContained];
  }

  // 3. Check if a known key contains the input (e.g. "NEBOSH" is contained in "NEBOSH GENERAL")
  // This is a bit riskier as "NEBOSH" matches both, but the order of keys helps.
  // We return the generic "NEBOSH" entry if it exists and matches.
  const containedInKey = keys.find(k => k.includes(key));
  if (containedInKey) {
     return courseKnowledgeBase[containedInKey];
  }

  return "Details for this specific course content are not currently available in the database. Please check the website link provided on the course card.";
};
